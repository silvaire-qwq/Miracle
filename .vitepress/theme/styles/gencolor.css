:root {
  /* Brand / Accent */
  --vp-c-brand-1: oklch(
    calc(var(--vp-color-lightness-light) + 0.04)
      calc(var(--vp-color-intensity-light) + 0.02) var(--hue)
  );
  --vp-c-brand-sub: oklch(
    calc(var(--vp-color-lightness-light) + 0.04)
      calc(var(--vp-color-intensity-light) + 0.02) calc(var(--hue) - 90)
  );
  --vp-c-brand-2: oklch(
    calc(var(--vp-color-lightness-light) + 0.08)
      calc(var(--vp-color-intensity-light) + 0.02) var(--hue)
  );
  --vp-c-brand-3: oklch(
    calc(var(--vp-color-lightness-light) + 0.12)
      calc(var(--vp-color-intensity-light) + 0.02) var(--hue)
  );
  --vp-c-brand-soft: color-mix(in oklch, var(--vp-c-brand-1), transparent 90%);

  /* Solid / semantic */
  --vp-c-white: oklch(
    calc(var(--vp-color-lightness-light) + 0.47)
      calc(var(--vp-color-intensity-light) / 20) var(--hue)
  );
  --vp-c-black: oklch(
    calc(var(--vp-color-lightness-light) - 0.45)
      calc(var(--vp-color-intensity-light) / 10) var(--hue)
  );
  --vp-c-sponsor: oklch(
    calc(var(--vp-color-lightness-light))
      calc(var(--vp-color-intensity-light) - 0.02) calc(var(--hue) + 8)
  );

  /* Backgrounds */
  --vp-c-bg: oklch(
    calc(var(--vp-color-lightness-light) + 0.43)
      calc(var(--vp-color-intensity-light) / 10) var(--hue)
  );
  /* 浅色主背景柔和偏暖灰 */
  --vp-c-bg-alt: oklch(
    calc(var(--vp-color-lightness-light) + 0.4)
      calc(var(--vp-color-intensity-light) / 15 + 0.005) var(--hue)
  );
  /* 页面主背景略暗 */
  --vp-c-bg-elv: oklch(
    calc(var(--vp-color-lightness-light) + 0.36)
      calc(var(--vp-color-intensity-light) / 15 + 0.005) var(--hue)
  );
  --vp-c-bg-soft: var(--vp-c-bg-alt);

  /* Borders / dividers */
  --vp-c-border: oklch(
    calc(var(--vp-color-lightness-light) + 0.35)
      calc(var(--vp-color-intensity-light) / 10 * 2) var(--hue)
  );
  /* 边框柔和 */
  --vp-c-divider: var(--vp-c-border);
  --vp-c-gutter: oklch(
    calc(var(--vp-color-lightness-light) + 0.23)
      calc(var(--vp-color-intensity-light) / 10 * 2) var(--hue)
  );

  /* Text scales */
  --vp-c-text-1: oklch(
    calc(var(--vp-color-lightness-light) - 0.3)
      calc(var(--vp-color-intensity-light) / 10 * 2 - 0.01) var(--hue)
  );
  /* 主文本柔和灰 */
  --vp-c-text-2: oklch(
    calc(var(--vp-color-lightness-light) - 0.1)
      calc(var(--vp-color-intensity-light) / 10 * 2) var(--hue)
  );
  --vp-c-text-3: oklch(
    calc(var(--vp-color-lightness-light) - 0.07)
      calc(var(--vp-color-intensity-light) / 10 * 2 + 0.01) var(--hue)
  );

  /* Callout / soft overlays */
  --vp-c-tip-soft: hsla(var(--hue), 80%, 45%, 0.18);
  --vp-c-warning-soft: hsla(calc(var(--hue) + 60), 75%, 45%, 0.18);
  --vp-c-danger-soft: hsla(calc(var(--hue) - 120), 70%, 40%, 0.18);
  --vp-c-caution-soft: hsla(calc(var(--hue) - 120), 70%, 40%, 0.18);
  --vp-c-important-soft: hsla(calc(var(--hue) + 40), 75%, 50%, 0.18);

  /* Custom blocks */
  --vp-custom-block-info-bg: oklch(
    calc(var(--vp-color-lightness-light) + 0.34)
      calc(var(--vp-color-intensity-light) / 10 - 0.005) var(--hue)
  );
  --vp-custom-block-note-bg: oklch(
    calc(var(--vp-color-lightness-light) + 0.36)
      calc(var(--vp-color-intensity-light) / 10 - 0.005) var(--hue)
  );
  --vp-custom-block-details-bg: oklch(
    calc(var(--vp-color-lightness-light) + 0.38)
      calc(var(--vp-color-intensity-light) / 10 - 0.005) var(--hue)
  );

  /* Palette helpers */
  --vp-c-gray-1: oklch(
    calc(var(--vp-color-lightness-light) + 0.26)
      calc(var(--vp-color-intensity-light) / 10 + 0.01) var(--hue)
  );
  --vp-c-gray-2: oklch(
    calc(var(--vp-color-lightness-light) + 0.34)
      calc(var(--vp-color-intensity-light) / 10) var(--hue)
  );
  --vp-c-gray-3: oklch(
    calc(var(--vp-color-lightness-light) + 0.42)
      calc(var(--vp-color-intensity-light) / 10 - 0.01) var(--hue)
  );
  --vp-c-gray-soft: hsla(0, 0%, 0%, 0.08);

  /* Code highlight (line) */
  --vp-code-line-highlight-color: hsla(var(--hue), 18%, 53%, 0.18);
}

.dark {
  /* Brand / Accent */
  --vp-c-brand-1: oklch(
    calc(var(--vp-color-lightness-dark) + 0.28)
      calc(var(--vp-color-intensity-dark) - 0.08) var(--hue)
  );
  --vp-c-brand-sub: oklch(
    calc(var(--vp-color-lightness-dark) + 0.28)
      calc(var(--vp-color-intensity-dark) - 0.08) calc(var(--hue) - 90)
  );
  --vp-c-brand-2: oklch(
    calc(var(--vp-color-lightness-dark) + 0.25)
      calc(var(--vp-color-intensity-dark) - 0.06) var(--hue)
  );
  --vp-c-brand-3: oklch(
    calc(var(--vp-color-lightness-dark) + 0.2)
      calc(var(--vp-color-intensity-dark) - 0.06) var(--hue)
  );
  --vp-c-brand-soft: color-mix(in oklch, var(--vp-c-brand-1), transparent 90%);

  /* 主背景：深灰绿，非纯黑 */
  --vp-c-bg: oklch(
    calc(var(--vp-color-lightness-dark) - 0.25)
      calc(var(--vp-color-intensity-dark) / 10 * 2 - 0.005) var(--hue)
  );
  --vp-c-bg-alt: oklch(
    calc(var(--vp-color-lightness-dark) - 0.27)
      calc(var(--vp-color-intensity-dark) / 10 * 2 - 0.005) var(--hue)
  );
  --vp-c-bg-elv: oklch(
    calc(var(--vp-color-lightness-dark) - 0.29)
      calc(var(--vp-color-intensity-dark) / 10 * 2) var(--hue)
  );
  --vp-c-bg-soft: var(--vp-c-bg-alt);

  /* 文本：温和灰白 */
  --vp-c-text-1: oklch(
    calc(var(--vp-color-lightness-dark) + 0.42)
      calc(var(--vp-color-intensity-dark) / 10) var(--hue)
  );
  --vp-c-text-2: oklch(
    calc(var(--vp-color-lightness-dark) + 0.31)
      calc(var(--vp-color-intensity-dark) / 10) var(--hue)
  );
  --vp-c-text-3: oklch(
    calc(var(--vp-color-lightness-dark) + 0.24)
      calc(var(--vp-color-intensity-dark) / 10) var(--hue)
  );

  /* 边框 / 分割线 */
  --vp-c-border: oklch(
    calc(var(--vp-color-lightness-dark) - 0.20)
      calc(var(--vp-color-intensity-dark) / 10 * 2) var(--hue)
  );
  --vp-c-divider: var(--vp-c-border);
  --vp-c-gutter: oklch(
    calc(var(--vp-color-lightness-dark) - 0.07)
      calc(var(--vp-color-intensity-dark) / 10 * 2) var(--hue)
  );

  /* 代码块背景 */
  --vp-code-line-highlight-color: hsla(var(--hue), 18%, 64%, 0.18);
  --vp-code-block-bg: oklch(
    calc(var(--vp-color-lightness-dark) - 0.26)
      calc(var(--vp-color-intensity-dark) / 5) var(--hue)
  );

  /* 自定义块背景 */
  --vp-custom-block-info-bg: oklch(
    calc(var(--vp-color-lightness-dark) - 0.22)
      calc(var(--vp-color-intensity-dark) / 10 - 0.005) var(--hue)
  );
  --vp-custom-block-note-bg: oklch(
    calc(var(--vp-color-lightness-dark) - 0.2)
      calc(var(--vp-color-intensity-dark) / 10 - 0.005) var(--hue)
  );
  --vp-custom-block-details-bg: oklch(
    calc(var(--vp-color-lightness-dark) - 0.17)
      calc(var(--vp-color-intensity-dark) / 10 - 0.005) var(--hue)
  );

  /* 灰度层次 */
  --vp-c-gray-1: oklch(
    calc(var(--vp-color-lightness-dark) - 0.08)
      calc(var(--vp-color-intensity-dark) / 10) var(--hue)
  );
  --vp-c-gray-2: oklch(
    calc(var(--vp-color-lightness-dark) - 0.12)
      calc(var(--vp-color-intensity-dark) / 10) var(--hue)
  );
  --vp-c-gray-3: oklch(
    calc(var(--vp-color-lightness-dark) - 0.16)
      calc(var(--vp-color-intensity-dark) / 10) var(--hue)
  );
  --vp-c-gray-soft: hsla(0, 0%, 100%, 0.06);

  /* 白黑基色 */
  --vp-c-white: oklch(
    calc(var(--vp-color-lightness-dark) + 0.45)
      calc(var(--vp-color-intensity-dark) / 10) var(--hue)
  );
  --vp-c-black: oklch(
    calc(var(--vp-color-lightness-dark) - 0.25)
      calc(var(--vp-color-intensity-dark) / 10) var(--hue)
  );
}
